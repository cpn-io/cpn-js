<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>cpn-ide documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">cpn-ide documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">







<ol class="breadcrumb">
  <li>Injectables</li>
  <li>AccessCpnService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/services/access-cpn.service.ts</code>
        </p>




            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#errorData">errorData</a>
                            </li>
                            <li>
                                <a href="#initNetProcessing">initNetProcessing</a>
                            </li>
                            <li>
                                <a href="#initSimProcessing">initSimProcessing</a>
                            </li>
                            <li>
                                <a href="#isSimulation">isSimulation</a>
                            </li>
                            <li>
                                <a href="#readyData">readyData</a>
                            </li>
                            <li>
                                <a href="#sessionId">sessionId</a>
                            </li>
                            <li>
                                <a href="#simInitialized">simInitialized</a>
                            </li>
                            <li>
                                <a href="#stateData">stateData</a>
                            </li>
                            <li>
                                <a href="#tokenData">tokenData</a>
                            </li>
                            <li>
                                <a href="#userSessionId">userSessionId</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#doMultiStepFF">doMultiStepFF</a>
                            </li>
                            <li>
                                <a href="#doStep">doStep</a>
                            </li>
                            <li>
                                <a href="#doStepWithBinding">doStepWithBinding</a>
                            </li>
                            <li>
                                <a href="#generateUserSession">generateUserSession</a>
                            </li>
                            <li>
                                <a href="#getBindings">getBindings</a>
                            </li>
                            <li>
                                <a href="#getErrorData">getErrorData</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getIsSimulation">getIsSimulation</a>
                            </li>
                            <li>
                                <a href="#getReadyData">getReadyData</a>
                            </li>
                            <li>
                                <a href="#getSimState">getSimState</a>
                            </li>
                            <li>
                                <a href="#getStateData">getStateData</a>
                            </li>
                            <li>
                                <a href="#getTokenData">getTokenData</a>
                            </li>
                            <li>
                                <a href="#getTokenMarks">getTokenMarks</a>
                            </li>
                            <li>
                                <a href="#getTransitions">getTransitions</a>
                            </li>
                            <li>
                                <a href="#getUserSessionId">getUserSessionId</a>
                            </li>
                            <li>
                                <a href="#getXmlFromServer">getXmlFromServer</a>
                            </li>
                            <li>
                                <a href="#initNet">initNet</a>
                            </li>
                            <li>
                                <a href="#initSim">initSim</a>
                            </li>
                            <li>
                                <a href="#resetSim">resetSim</a>
                            </li>
                            <li>
                                <a href="#saveErrorData">saveErrorData</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#setIsSimulation">setIsSimulation</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(http: <a href="https://angular.io/api/common/http/HttpClient" target="_blank">HttpClient</a>, eventService: <a href="../injectables/EventService.html">EventService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="22" class="link-to-prism">src/app/services/access-cpn.service.ts:22</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>http</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/common/http/HttpClient" target="_blank" >HttpClient</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>eventService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/EventService.html" target="_self" >EventService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="doMultiStepFF"></a>
                    <span class="name">
                        <b>
                            doMultiStepFF
                        </b>
                        <a href="#doMultiStepFF"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>doMultiStepFF(options)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="328"
                            class="link-to-prism">src/app/services/access-cpn.service.ts:328</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="doStep"></a>
                    <span class="name">
                        <b>
                            doStep
                        </b>
                        <a href="#doStep"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>doStep(transId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="272"
                            class="link-to-prism">src/app/services/access-cpn.service.ts:272</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Do simulation step for transition</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>transId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>transition id</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="doStepWithBinding"></a>
                    <span class="name">
                        <b>
                            doStepWithBinding
                        </b>
                        <a href="#doStepWithBinding"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>doStepWithBinding(transId, bindId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="296"
                            class="link-to-prism">src/app/services/access-cpn.service.ts:296</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>transId</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>bindId</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateUserSession"></a>
                    <span class="name">
                        <b>
                            generateUserSession
                        </b>
                        <a href="#generateUserSession"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>generateUserSession()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="69"
                            class="link-to-prism">src/app/services/access-cpn.service.ts:69</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Generate new user session</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getBindings"></a>
                    <span class="name">
                        <b>
                            getBindings
                        </b>
                        <a href="#getBindings"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getBindings(transId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="362"
                            class="link-to-prism">src/app/services/access-cpn.service.ts:362</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Get bindings for transition</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>transId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>transition id</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getErrorData"></a>
                    <span class="name">
                        <b>
                            getErrorData
                        </b>
                        <a href="#getErrorData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getErrorData()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="35"
                            class="link-to-prism">src/app/services/access-cpn.service.ts:35</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getIsSimulation"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            getIsSimulation
                        </b>
                        <a href="#getIsSimulation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getIsSimulation()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="409"
                            class="link-to-prism">src/app/services/access-cpn.service.ts:409</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getReadyData"></a>
                    <span class="name">
                        <b>
                            getReadyData
                        </b>
                        <a href="#getReadyData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getReadyData()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="47"
                            class="link-to-prism">src/app/services/access-cpn.service.ts:47</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getSimState"></a>
                    <span class="name">
                        <b>
                            getSimState
                        </b>
                        <a href="#getSimState"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getSimState()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="381"
                            class="link-to-prism">src/app/services/access-cpn.service.ts:381</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getStateData"></a>
                    <span class="name">
                        <b>
                            getStateData
                        </b>
                        <a href="#getStateData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getStateData()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="59"
                            class="link-to-prism">src/app/services/access-cpn.service.ts:59</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getTokenData"></a>
                    <span class="name">
                        <b>
                            getTokenData
                        </b>
                        <a href="#getTokenData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getTokenData()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="39"
                            class="link-to-prism">src/app/services/access-cpn.service.ts:39</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getTokenMarks"></a>
                    <span class="name">
                        <b>
                            getTokenMarks
                        </b>
                        <a href="#getTokenMarks"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getTokenMarks()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="216"
                            class="link-to-prism">src/app/services/access-cpn.service.ts:216</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Get token/marking state from simulator</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getTransitions"></a>
                    <span class="name">
                        <b>
                            getTransitions
                        </b>
                        <a href="#getTransitions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getTransitions()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="243"
                            class="link-to-prism">src/app/services/access-cpn.service.ts:243</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Get transitions state from simulator</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getUserSessionId"></a>
                    <span class="name">
                        <b>
                            getUserSessionId
                        </b>
                        <a href="#getUserSessionId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getUserSessionId()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="78"
                            class="link-to-prism">src/app/services/access-cpn.service.ts:78</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Get current user session</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getXmlFromServer"></a>
                    <span class="name">
                        <b>
                            getXmlFromServer
                        </b>
                        <a href="#getXmlFromServer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getXmlFromServer()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="416"
                            class="link-to-prism">src/app/services/access-cpn.service.ts:416</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Get token/marking state from simulator</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initNet"></a>
                    <span class="name">
                        <b>
                            initNet
                        </b>
                        <a href="#initNet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>initNet(cpnJson, complexVerify)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="85"
                            class="link-to-prism">src/app/services/access-cpn.service.ts:85</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Access/CPN API</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>cpnJson</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>complexVerify</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initSim"></a>
                    <span class="name">
                        <b>
                            initSim
                        </b>
                        <a href="#initSim"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>initSim()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="163"
                            class="link-to-prism">src/app/services/access-cpn.service.ts:163</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Initialize access/cpn simulator</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resetSim"></a>
                    <span class="name">
                        <b>
                            resetSim
                        </b>
                        <a href="#resetSim"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>resetSim()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="155"
                            class="link-to-prism">src/app/services/access-cpn.service.ts:155</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Reset simulator initialization flag</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="saveErrorData"></a>
                    <span class="name">
                        <b>
                            saveErrorData
                        </b>
                        <a href="#saveErrorData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>saveErrorData(data)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="136"
                            class="link-to-prism">src/app/services/access-cpn.service.ts:136</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>data</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setIsSimulation"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            setIsSimulation
                        </b>
                        <a href="#setIsSimulation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>setIsSimulation(state)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="404"
                            class="link-to-prism">src/app/services/access-cpn.service.ts:404</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>state</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="errorData"></a>
                        <span class="name">
                            <b>
                            errorData</b>
                            <a href="#errorData"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>[]</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>[]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="19" class="link-to-prism">src/app/services/access-cpn.service.ts:19</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="initNetProcessing"></a>
                        <span class="name">
                            <b>
                            initNetProcessing</b>
                            <a href="#initNetProcessing"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="15" class="link-to-prism">src/app/services/access-cpn.service.ts:15</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="initSimProcessing"></a>
                        <span class="name">
                            <b>
                            initSimProcessing</b>
                            <a href="#initSimProcessing"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="16" class="link-to-prism">src/app/services/access-cpn.service.ts:16</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="isSimulation"></a>
                        <span class="name">
                            <b>
                            isSimulation</b>
                            <a href="#isSimulation"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="18" class="link-to-prism">src/app/services/access-cpn.service.ts:18</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="readyData"></a>
                        <span class="name">
                            <b>
                            readyData</b>
                            <a href="#readyData"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>[]</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>[]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="21" class="link-to-prism">src/app/services/access-cpn.service.ts:21</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="sessionId"></a>
                        <span class="name">
                            <b>
                            sessionId</b>
                            <a href="#sessionId"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="13" class="link-to-prism">src/app/services/access-cpn.service.ts:13</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="simInitialized"></a>
                        <span class="name">
                            <b>
                            simInitialized</b>
                            <a href="#simInitialized"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="17" class="link-to-prism">src/app/services/access-cpn.service.ts:17</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="stateData"></a>
                        <span class="name">
                            <b>
                            stateData</b>
                            <a href="#stateData"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="22" class="link-to-prism">src/app/services/access-cpn.service.ts:22</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="tokenData"></a>
                        <span class="name">
                            <b>
                            tokenData</b>
                            <a href="#tokenData"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>[]</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>[]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="20" class="link-to-prism">src/app/services/access-cpn.service.ts:20</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="userSessionId"></a>
                        <span class="name">
                            <b>
                            userSessionId</b>
                            <a href="#userSessionId"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="14" class="link-to-prism">src/app/services/access-cpn.service.ts:14</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable } from &#x27;@angular/core&#x27;;
import { HttpClient, HttpHeaders } from &#x27;@angular/common/http&#x27;;
import * as X2JS from &#x27;src/lib/x2js/xml2json.js&#x27;;
import { EventService } from &#x27;./event.service&#x27;;
import { Message } from &#x27;../common/message&#x27;;
import { xmlBeautify } from &#x27;../../lib/xml-beautifier/xml-beautifier.js&#x27;;
import { CpnServerUrl } from &#x27;src/cpn-server-url&#x27;;
import { cloneObject } from &#x27;../common/utils&#x27;;

@Injectable()
export class AccessCpnService {

  sessionId;
  userSessionId;
  initNetProcessing;
  initSimProcessing;
  simInitialized &#x3D; false;
  isSimulation &#x3D; false;
  errorData &#x3D; [];
  tokenData &#x3D; [];
  readyData &#x3D; [];
  stateData;

  constructor(private http: HttpClient,
    private eventService: EventService) {

    this.eventService.on(Message.SERVER_INIT_NET, (event) &#x3D;&gt; {
      console.log(&#x27;AccessCpnService(), SERVER_INIT_NET, data &#x3D; &#x27;, event);
      if (event) {
        this.initNet(event.projectData, event.complexVerify);
      }
    });
  }

  getErrorData() {
    return this.errorData;
  }

  getTokenData() {
    if (!this.isSimulation) {
      return [];
    }

    return this.tokenData;
  }

  getReadyData() {
    if (!this.isSimulation) {
      return [];
    }

    const readyData &#x3D; {};
    for (const id of this.readyData) {
      readyData[id] &#x3D; &#x27;Transition is ready.&#x27;;
    }
    return readyData;
  }

  getStateData() {
    if (!this.isSimulation) {
      return undefined;
    }
    return this.stateData;
  }

  /**
   * Generate new user session
   */
  generateUserSession() {
    this.userSessionId &#x3D; &#x27;CPN-USER-SESSION-&#x27; + new Date().getTime();
    console.log(&#x27;generateUserSession - new id -&#x27;, this.userSessionId);
    return this.userSessionId;
  }

  /**
   * Get current user session
   */
  getUserSessionId() {
    return this.userSessionId;
  }

  /**
   * Access/CPN API
   */
  initNet(cpnJson, complexVerify) {
    if (this.initNetProcessing) {
      return;
    }

    if (!this.sessionId) {
      this.sessionId &#x3D; &#x27;CPN-IDE-SESSION-&#x27; + new Date().getTime();
    }

    console.log(&#x27;AccessCpnService, initNet(), START, this.sessionId &#x3D; &#x27;, this.sessionId);

    const x2js &#x3D; new X2JS();
    let cpnXml &#x3D; x2js.json2xml_str(cloneObject(cpnJson));

    cpnXml &#x3D; cpnXml.toString(&#x27;iso-8859-1&#x27;);
    cpnXml &#x3D; xmlBeautify(cpnXml);

    this.initNetProcessing &#x3D; true;
    this.eventService.send(Message.SERVER_INIT_NET_START, {});

    localStorage.setItem(&#x27;cpnXml&#x27;, JSON.stringify(cpnXml));

    this.errorData &#x3D; [];

    // complexVerify &#x3D; true;
    localStorage.setItem(&#x27;cpnXml&#x27;, cpnXml);

    const url &#x3D; CpnServerUrl.get() + &#x27;/api/v2/cpn/init&#x27;;
    this.http.post(url, { xml: cpnXml, complex_verify: complexVerify }, { headers: { &#x27;X-SessionId&#x27;: this.sessionId } })
      .subscribe(
        (data: any) &#x3D;&gt; {
          console.log(&#x27;AccessCpnService, initNet(), SUCCESS, data &#x3D; &#x27;, data);
          this.initNetProcessing &#x3D; false;

          this.saveErrorData(data);

          this.eventService.send(Message.SERVER_INIT_NET_DONE, { data: data, errorIssues: data.issues });

          // Init simulator
          // if (!this.simInitialized) {
          //   this.initSim();
          // }
        },
        (error) &#x3D;&gt; {
          console.error(&#x27;AccessCpnService, initNet(), ERROR, data &#x3D; &#x27;, error);
          this.initNetProcessing &#x3D; false;
          this.eventService.send(Message.SERVER_INIT_NET_ERROR, { data: error });
        }
      );
  }

  saveErrorData(data) {
    this.errorData &#x3D; [];

    if (!data.success) {
      for (const id of Object.keys(data.issues)) {
        for (const issue of data.issues[id]) {
          issue.description &#x3D; issue.description.replace(issue.id + &#x27;:&#x27;, &#x27;&#x27;);
          issue.description &#x3D; issue.description.replace(issue.id, &#x27;&#x27;);
          issue.description &#x3D; issue.description.replace(&#x27;:&#x27;, &#x27;&#x27;);
          issue.description &#x3D; issue.description.trim();
          this.errorData[issue.id] &#x3D; issue.description;
        }
      }
    }
  }

  /**
   * Reset simulator initialization flag
   */
  resetSim() {
    this.simInitialized &#x3D; false;
    this.generateUserSession();
  }

  /**
   * Initialize access/cpn simulator
   */
  initSim() {
    if (this.initSimProcessing) {
      return;
    }

    this.simInitialized &#x3D; false;

    this.tokenData &#x3D; [];
    this.readyData &#x3D; [];
    this.stateData &#x3D; undefined;

    if (!this.sessionId) {
      this.sessionId &#x3D; &#x27;CPN-IDE-SESSION-&#x27; + new Date().getTime();
    }

    this.initSimProcessing &#x3D; true;
    this.eventService.send(Message.SERVER_INIT_SIM_START, {});

    console.log(&#x27;AccessCpnService, initSim(), START, this.sessionId &#x3D; &#x27;, this.sessionId);

    const url &#x3D; CpnServerUrl.get() + &#x27;/api/v2/cpn/sim/init&#x27;;
    this.http.get(url, { headers: { &#x27;X-SessionId&#x27;: this.sessionId } }).subscribe(
      (data: any) &#x3D;&gt; {
        this.initSimProcessing &#x3D; false;
        console.log(&#x27;AccessCpnService, initSim(), SUCCESS, data &#x3D; &#x27;, data);
        this.simInitialized &#x3D; true;

        this.eventService.send(Message.SERVER_INIT_SIM_DONE, { data: data });
        // Get token marks and transition
        if (data) {
          this.tokenData &#x3D; data.tokensAndMark;
          this.eventService.send(Message.SERVER_GET_TOKEN_MARKS, { data: this.tokenData });
          this.readyData &#x3D; data.enableTrans;
          this.eventService.send(Message.SERVER_GET_TRANSITIONS, { data: this.readyData });

        }

        //this.getTokenMarks();
        //this.getTransitions();
      },
      (error) &#x3D;&gt; {
        this.initSimProcessing &#x3D; false;
        console.error(&#x27;AccessCpnService, initSim(), ERROR, data &#x3D; &#x27;, error);

        this.eventService.send(Message.SERVER_INIT_SIM_ERROR, { data: error });
      }
    );
  }


  /**
   * Get token/marking state from simulator
   */
  getTokenMarks() {
    console.log(&#x27;AccessCpnService, getTokenMarks(), this.sessionId &#x3D; &#x27;, this.sessionId);

    if (!this.simInitialized || !this.sessionId) {
      return;
    }

    this.tokenData &#x3D; [];

    const url &#x3D; CpnServerUrl.get() + &#x27;/api/v2/cpn/sim/marks&#x27;;
    this.http.get(url, { headers: { &#x27;X-SessionId&#x27;: this.sessionId } }).subscribe(
      (data: any) &#x3D;&gt; {
        console.log(&#x27;AccessCpnService, getTokenMarks(), SUCCESS, data &#x3D; &#x27;, data);

        this.tokenData &#x3D; data;

        this.eventService.send(Message.SERVER_GET_TOKEN_MARKS, { data: data });
      },
      (error) &#x3D;&gt; {
        console.error(&#x27;AccessCpnService, getTokenMarks(), ERROR, data &#x3D; &#x27;, error);
      }
    );
  }

  /**
   * Get transitions state from simulator
   */
  getTransitions() {
    console.log(&#x27;AccessCpnService, getTransitions(), this.sessionId &#x3D; &#x27;, this.sessionId);

    if (!this.simInitialized || !this.sessionId) {
      return;
    }

    this.readyData &#x3D; [];

    const url &#x3D; CpnServerUrl.get() + &#x27;/api/v2/cpn/sim/transitions/enabled&#x27;;
    this.http.get(url, { headers: { &#x27;X-SessionId&#x27;: this.sessionId } }).subscribe(
      (data: any) &#x3D;&gt; {
        console.log(&#x27;AccessCpnService, getTransitions(), SUCCESS, data &#x3D; &#x27;, data);

        this.readyData &#x3D; data;

        this.eventService.send(Message.SERVER_GET_TRANSITIONS, { data: data });
      },
      (error) &#x3D;&gt; {
        console.error(&#x27;AccessCpnService, getTransitions(), ERROR, data &#x3D; &#x27;, error);
      }
    );
  }


  /**
   * Do simulation step for transition
   * @param transId - transition id
   */
  doStep(transId) {
    if (!this.simInitialized || !this.sessionId) {
      return;
    }

    const url &#x3D; CpnServerUrl.get() + &#x27;/api/v2/cpn/sim/step/&#x27; + transId; // ID1412328496
    this.http.get(url, { headers: { &#x27;X-SessionId&#x27;: this.sessionId } }).subscribe(
      (data: any) &#x3D;&gt; {
        console.log(&#x27;AccessCpnService, doStep(), SUCCESS, data &#x3D; &#x27;, data);
        if (data) {
          this.tokenData &#x3D; data.tokensAndMark;
          this.eventService.send(Message.SERVER_GET_TOKEN_MARKS, { data: this.tokenData });
          this.readyData &#x3D; data.enableTrans;
          this.eventService.send(Message.SERVER_GET_TRANSITIONS, { data: this.readyData });
        }

        this.getSimState();
      },
      (error) &#x3D;&gt; {
        console.error(&#x27;AccessCpnService, doStep(), ERROR, data &#x3D; &#x27;, error);
      }
    );
  }

  doStepWithBinding(transId, bindId) {
    if (!this.simInitialized || !this.sessionId) {
      return;
    }

    const postData &#x3D; {
      bind_id: bindId
    };

    console.log(&#x27;AccessCpnService, doStepWithBinding(), postData &#x3D; &#x27;, postData);

    // POST /api/v2/cpn/sim/step_with_binding/{transId}
    const url &#x3D; CpnServerUrl.get() + &#x27;/api/v2/cpn/sim/step_with_binding/&#x27; + transId;
    this.http.post(url, postData, { headers: { &#x27;X-SessionId&#x27;: this.sessionId } }).subscribe(
      (data: any) &#x3D;&gt; {
        console.log(&#x27;AccessCpnService, doStepWithBinding(), SUCCESS, data &#x3D; &#x27;, data);
        if (data) {
          this.tokenData &#x3D; data.tokensAndMark;
          this.eventService.send(Message.SERVER_GET_TOKEN_MARKS, { data: this.tokenData });
          this.readyData &#x3D; data.enableTrans;
          this.eventService.send(Message.SERVER_GET_TRANSITIONS, { data: this.readyData });

          this.getSimState();
        }
      },
      (error) &#x3D;&gt; {
        console.error(&#x27;AccessCpnService, doStepWithBinding(), ERROR, data &#x3D; &#x27;, error);
      }
    );
  }


  doMultiStepFF(options) {
    if (!this.simInitialized || !this.sessionId) {
      return;
    }

    const postData &#x3D; options;

    console.log(&#x27;AccessCpnService, doMultiStepFF(), postData &#x3D; &#x27;, postData);

    // POST /api/v2/cpn/sim/step_with_binding/{transId}
    const url &#x3D; CpnServerUrl.get() + &#x27;/api/v2/cpn/sim/step_fast_forward&#x27;;
    this.http.post(url, postData, { headers: { &#x27;X-SessionId&#x27;: this.sessionId } }).subscribe(
      (data: any) &#x3D;&gt; {
        console.log(&#x27;AccessCpnService, doStepWithBinding(), SUCCESS, data &#x3D; &#x27;, data);
        if (data) {
          this.tokenData &#x3D; data.tokensAndMark;
          this.eventService.send(Message.SERVER_GET_TOKEN_MARKS, { data: this.tokenData });
          this.readyData &#x3D; data.enableTrans;
          this.eventService.send(Message.SERVER_GET_TRANSITIONS, { data: this.readyData });

          this.getSimState();
        }
      },
      (error) &#x3D;&gt; {
        console.error(&#x27;AccessCpnService, doStepWithBinding(), ERROR, data &#x3D; &#x27;, error);
      }
    );
  }


  /**
   * Get bindings for transition
   * @param transId - transition id
   */
  getBindings(transId) {
    if (!this.simInitialized || !this.sessionId) {
      return;
    }

    const url &#x3D; CpnServerUrl.get() + &#x27;/api/v2/cpn/sim/bindings/&#x27; + transId; // ID1412328496
    this.http.get(url, { headers: { &#x27;X-SessionId&#x27;: this.sessionId } }).subscribe(
      (data: any) &#x3D;&gt; {
        console.log(&#x27;AccessCpnService, getBindings(), SUCCESS, data &#x3D; &#x27;, data);
        if (data) {
          this.eventService.send(Message.SERVER_GET_BINDINGS, { data: data });
        }
      },
      (error) &#x3D;&gt; {
        console.error(&#x27;AccessCpnService, getBindings(), ERROR, data &#x3D; &#x27;, error);
      }
    );
  }

  getSimState() {
    if (!this.simInitialized || !this.sessionId) {
      return;
    }

    this.stateData &#x3D; undefined;

    const url &#x3D; CpnServerUrl.get() + &#x27;/api/v2/cpn/sim/state&#x27;;
    this.http.get(url, { headers: { &#x27;X-SessionId&#x27;: this.sessionId } }).subscribe(
      (data: any) &#x3D;&gt; {
        console.log(&#x27;AccessCpnService, getSimState(), SUCCESS, data &#x3D; &#x27;, data);
        if (data) {
          this.stateData &#x3D; data;
          this.eventService.send(Message.SIMULATION_UPDATE_STATE);
        }
      },
      (error) &#x3D;&gt; {
        console.error(&#x27;AccessCpnService, getSimState(), ERROR, data &#x3D; &#x27;, error);
      }
    );
  }


  public setIsSimulation(state) {
    this.isSimulation &#x3D; state;
    this.eventService.send(Message.SIMULATION_UPDATE_STATE);
  }

  public getIsSimulation() {
    return this.isSimulation;
  }

  /**
   * Get token/marking state from simulator
   */
  getXmlFromServer() {
    return new Promise((resolve, reject) &#x3D;&gt; {

      console.log(&#x27;AccessCpnService, getXmlFromServer(), this.sessionId &#x3D; &#x27;, this.sessionId);

      if (!this.sessionId) {
        reject(&#x27;ERROR: sessionId not defined!&#x27;);
      }

      const url &#x3D; CpnServerUrl.get() + &#x27;/api/v2/cpn/xml/export&#x27;;
      this.http.get(url, { headers: { &#x27;X-SessionId&#x27;: this.sessionId } }).subscribe(
        (data: any) &#x3D;&gt; {
          console.log(&#x27;AccessCpnService, getXmlFromServer(), SUCCESS, data &#x3D; &#x27;, data);
          resolve(data);
        },
        (error) &#x3D;&gt; {
          console.error(&#x27;AccessCpnService, getXmlFromServer(), ERROR, data &#x3D; &#x27;, error);
          reject(error);
        }
      );

    });
  }


}
</code></pre>
    </div>

</div>







                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'AccessCpnService.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
