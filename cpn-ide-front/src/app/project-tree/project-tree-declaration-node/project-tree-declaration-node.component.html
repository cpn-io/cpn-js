<ng-container *ngIf="declaration && isFiltered()">
  <div class="icon" [ngClass]="{'errorIcon': accessCpnService.errorIds.includes(declaration._id)}">
    <i class="fas fa-code"></i>
  </div>

  <div  draggable="true" [id]="declaration._id" [contentEditable]="!accessCpnService.isSimulation"
    [ngClass]="{'selected': tree.selected.id === declaration._id, 'error': accessCpnService.errorIds.includes(declaration._id), 'node': true, 'editablenode': true}"
    [innerHTML]="getText() | colorDeclarations | safeHtml" (mousedown)="onSelect()"
    (contextmenu)="onSelect(); onContextMenu($event)" (focus)="onSelect(); focused = true;"
    (focusout)="focused = false; onUpdate($event.target.textContent)"
    (keydown)="onKeydown($event)">
  </div>
  <div *ngIf="accessCpnService.errorIds.includes(declaration._id)" class="errorText">
    {{ accessCpnService.errorData[declaration._id] }}
  </div>
</ng-container>
