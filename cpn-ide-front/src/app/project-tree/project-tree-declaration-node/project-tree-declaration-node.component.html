<ng-container *ngIf="declaration">
  <div class="icon" [ngClass]="{'errorIcon': accessCpnService.errorIds.includes(declaration._id)}">
    <i class="fas fa-code"></i>
  </div>

  <div #editField [id]="declaration._id" [contentEditable]="!accessCpnService.isSimulation"
    [ngClass]="{'selected': tree.selected.id === declaration._id, 'error': accessCpnService.errorIds.includes(declaration._id), 'node': true, 'editablenode': true}"
    [innerHTML]="getText() | colorDeclarations | safeHtml" (mousedown)="onSelected()"
    (contextmenu)="onSelected(); onContextMenu($event)" (focus)="onSelected(); focused = true; onParse($event.target.textContent)"
    (focusout)="focused = false; onUpdate($event.target.textContent)"
    (keydown)="onKeyDown($event)">
  </div>
  <div *ngIf="accessCpnService.errorIds.includes(declaration._id)" class="errorText">
    {{ accessCpnService.errorData[declaration._id] }}
  </div>
</ng-container>

<!-- <app-context-menu #contextMenu>
  <a class="dropdown-item" href="#" (click)="onNewDeclaration()">
    <i class="fas fa-code"></i>
    <span>New declaration</span>
  </a>

  <a class="dropdown-item" href="#" (click)="onNewBlock()">
    <i class="fas fa-cube"></i>
    <span>New block</span>
  </a>

  <div class="dropdown-divider" href="#"></div>

  <a class="dropdown-item" href="#" (click)="onDeleteDeclaration()">
    <i class="fas fa-minus"></i>
    <span>Delete declaration</span>
  </a>
</app-context-menu> -->