<!-- <div class="blockHeader">
  Simulation
</div> -->

<nav class="navbar navbar-sm navbar-expand shadow-sm">
  <span class="nav-item">
    <b>&nbsp;Simulation&nbsp;</b>
  </span>

  <ul class="navbar-nav mr-auto">
    <div class="divider"></div>

    <li class="nav-item">
      <a (click)="onRewind()" class="nav-link" href="#">
        <i class="fas fa-backward"></i>
        <span>Rewind</span>
      </a>
    </li>

    <div class="divider"></div>
  </ul>
</nav>

<div class="panel tab-container">

  <div class="blockHeader" (click)="simulationService.setMode(simulationService.SINGLE_STEP)"
    [ngClass]="simulationService.mode === simulationService.SINGLE_STEP ? 'enabled' : 'disabled'">
    <i class="fas fa-step-forward"></i>
    <span>Single Step</span>
  </div>
  <div class="note" [ngClass]="{'expanded': simulationService.mode === simulationService.SINGLE_STEP }">
    Click on a marked (enabled) transition
  </div>

  <div class="blockHeader" (click)="simulationService.setMode(simulationService.SINGLE_STEP_CHOOSE_BINDING)"
    [ngClass]="simulationService.mode === simulationService.SINGLE_STEP_CHOOSE_BINDING ? 'enabled' : 'disabled'">
    <i class="fas fa-step-forward"></i>
    <span>Single Step Choose Binding</span>
  </div>
  <div class="note" [ngClass]="{'expanded': simulationService.mode === simulationService.SINGLE_STEP_CHOOSE_BINDING }">
    Click on a marked (enabled) transition and select one binding
  </div>

  <div class="blockHeader" (click)="simulationService.setMode(simulationService.MULTI_STEP)"
    [ngClass]="simulationService.mode === simulationService.MULTI_STEP ? 'enabled' : 'disabled'">
    <i class="fas fa-fast-forward"></i>
    <span>Multi-Step (Animated)</span>
  </div>
  <div class="note" [ngClass]="{'expanded': simulationService.mode === simulationService.MULTI_STEP }">
    <table>
      <tr>
        <td>Steps</td>
        <td><input class="full-width" type="number" [(ngModel)]="simulationService.simulationConfig.multi_step.steps"></td>
        <td></td>
      </tr>
      <tr>
        <td>Delay</td>
        <td><input class="full-width" type="number" [(ngModel)]="simulationService.simulationConfig.multi_step.delay"></td>
        <td>ms</td>
      </tr>
      <tr>
        <td></td>
        <td class="full-width text-right">
          <button type="button" class="btn btn-primary" (click)="onRunMultiStep()">
            <i class="fas fa-play"></i>
            <span>Run</span>
          </button>
        </td>
        <td></td>
      </tr>
    </table>
  </div>

  <div class="blockHeader" (click)="simulationService.setMode(simulationService.MULTI_STEP_FF)"
    [ngClass]="simulationService.mode === simulationService.MULTI_STEP_FF ? 'enabled' : 'disabled'">
    <i class="fas fa-fast-forward"></i>
    <span>Multi-Step (Fast Forward)</span>
  </div>
  <div class="note" [ngClass]="{'expanded': simulationService.mode === simulationService.MULTI_STEP_FF }">
    <table *ngIf="simulationService.mode === simulationService.MULTI_STEP_FF">
      <tr>
        <td>Steps</td>
        <td><input type="number" class="full-width" [(ngModel)]="simulationService.simulationConfig.multi_step_ff.steps"></td>
      </tr>
      <tr>
        <td>Max Step</td>
        <td><input type="number" class="full-width" [(ngModel)]="simulationService.simulationConfig.multi_step_ff.max_step"></td>
      </tr>
      <tr>
        <td>Time Step</td>
        <td><input type="number" class="full-width" [(ngModel)]="simulationService.simulationConfig.multi_step_ff.time_step"></td>
      </tr>
      <tr>
        <td>Max Time</td>
        <td><input type="number" class="full-width" [(ngModel)]="simulationService.simulationConfig.multi_step_ff.max_time"></td>
      </tr>
      <tr>
        <td></td>
        <td class="full-width text-right">
          <button type="button" class="btn btn-primary" (click)="onRunMultiStepFF()">
            <i class="fas fa-play"></i>
            <span>Run</span>
          </button>
        </td>
      </tr>
    </table>
  </div>

  <div class="blockHeader" (click)="simulationService.setMode(simulationService.REPLICATION)"
    [ngClass]="simulationService.mode === simulationService.REPLICATION ? 'enabled' : 'disabled'">
    <i class="fas fa-copy"></i>
    <span>Replication</span>
  </div>
  <div class="note" [ngClass]="{'expanded': simulationService.mode === simulationService.REPLICATION }">
    <table>
      <tr>
        <td>Repeat</td>
        <td><input type="number" value="30" class="full-width"></td>
      </tr>
      <tr>
        <td></td>
        <td class="full-width text-right">
          <button type="button" class="btn btn-primary">
            <i class="fas fa-play"></i>
            <span>Run</span>
          </button>
        </td>
      </tr>
    </table>
  </div>

</div>